###### tags: `IGER` `OOD`


# å¾è¶…é‡åˆ°å“è¶Š 

- From Overweight to Overachiver
(æ•…äº‹å–è‡ª èˆ‡ChatGPTä¹‹äº’å‹•)

æœ‰ä¸€å€‹åå«é®‘ä¼¯ï¼ˆBobï¼‰çš„å¹´è¼•äººï¼Œä»–å–œæ­¡åƒæ¼¢å ¡èº«æå£¯ç¢©ï¼Œç¸½æ˜¯è¢«å–ç¬‘ã€‚ä»–æœ‰ä¸€å€‹å¤¢æƒ³ï¼Œæƒ³è¦åœ¨ä¸€å®¶å¤§å…¬å¸å·¥ä½œï¼Œä½†ä»–ä¸€ç›´æ‰¾ä¸åˆ°æ©Ÿæœƒã€‚é®‘ä¼¯è¢«ä»–çš„æœ‹å‹æˆ²ç¨±ã€Œå¤§é®‘ä¼¯ã€(Big Bob)ã€‚

é«˜ä¸­æ™‚æœŸçš„ Bob å¯ä¸æ˜¯é€™æ¨£ï¼Œä»–å’Œå…©ä½å¥½æœ‹å‹ Alice åŠ Charlie å…±åŒå‰µç«‹ä¸€å€‹ç¤¾åœ˜ FitABCï¼Œæ¨å»£å„é …é‹å‹•ã€‚é™¤äº† Alice æœ‰é»å¤ªç˜¦å¤–ï¼Œå¤§å®¶çš„å¹³å‡é«”æ…‹éƒ½ä¿æŒçš„ç›¸ç•¶çš„å¥½ï¼Œæ•´å€‹ç¤¾åœ˜çš„å¹³å‡ BMI è½åœ¨ 19ï¼Œç›¸ç•¶çš„å¥½ã€‚ 

é€™ä¸€å¤©ï¼Œä»–çœ‹åˆ°ä¸€å€‹å·¥ä½œæ‹›è˜å»£å‘Šï¼Œå…¬å¸åå«ã€ŒSuccessTech æœ‰é™å…¬å¸ã€ï¼Œæ˜¯å’Œä»–çš„æœ¬æ¥­è³‡è¨Šå·¥ç¨‹ç›¸é—œçš„ã€‚Bob æ¯…ç„¶æ±ºå®šå˜—è©¦ä¸€ä¸‹ï¼Œå„˜ç®¡ä»–å°è‡ªå·±çš„èƒ½åŠ›å’Œå¤–è¡¨æ„Ÿåˆ°ç¼ºä¹è‡ªä¿¡ã€‚ä»–ç¶“æ­·äº†ä¸€æ¬¡ç·Šå¼µçš„é¢è©¦ï¼Œé‹æ°£ä¸éŒ¯çš„ï¼Œä»–è¢«éŒ„å–äº†ã€‚

Bob çš„å·¥ä½œä¸¦ä¸è¼•é¬†ï¼Œä»–è¦ºå¾—è‡ªå·±ç„¡æ³•è·Ÿä¸Šå¿«ç¯€å¥çš„å·¥ä½œå’ŒåŒäº‹å€‘çš„èƒ½åŠ›ã€‚ä½†ä»–éå¸¸åŠªåŠ›å·¥ä½œï¼Œæ¯å¤©éƒ½åŠ ç­ï¼ŒèªçœŸå­¸ç¿’æ–°æ±è¥¿ã€‚ä»–çš„å …éŸŒåŠªåŠ›é–‹å§‹å¸å¼•åŒäº‹å’Œä¸Šå¸çš„é—œæ³¨ã€‚

å…¬å¸çš„åˆ©æ½¤èˆ‡è³‡ç”¢ä¸æ–·å¢åŠ ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†è¦å®Œæˆ Bob çš„åŠªåŠ›ã€‚ä»–ç”¨ä»–è‡ªå·±çš„æ–¹å¼è§£æ±ºå•é¡Œï¼Œå‰µé€ äº†ä¸€äº›ä»¤äººé©šå˜†çš„è§£æ±ºæ–¹æ¡ˆã€‚ä»–çš„åŒäº‹é–‹å§‹è®šè³ä»–çš„èƒ½åŠ›ï¼Œè€Œä¸å†é—œå¿ƒä»–çš„å¤–è¡¨ï¼Œä»–çš„è–ªæ°´ä¹Ÿä¸æ–·çš„ä¸Šå‡ã€‚

ç„¶è€Œï¼Œå…¬å¸çš„é«˜å±¤é–‹å§‹æ“”å¿ƒ Bob çš„å¥åº·ç‹€æ³ï¼Œä»–çš„ BMI æ˜¯è¶…é«˜çš„ 40ã€‚ä»–é•·æ™‚é–“çš„åŠ ç­å’Œä¸å¥åº·çš„ç”Ÿæ´»æ–¹å¼ä½¿ä»–çš„é«”é‡å’Œå¥åº·ç‹€æ³æƒ¡åŒ–ã€‚å…¬å¸æ±ºå®šæ¡å–è¡Œå‹•ã€‚

ä»–å€‘å®‰æ’äº†ä¸€æ¬¡å…¬å¸å¥åº·æª¢æŸ¥ï¼Œçµæœé¡¯ç¤º Bob å’Œå…¶ä»–å“¡å·¥å€‘çš„å¥åº·ç‹€æ³éƒ½ä¸å¥½ã€‚å…¬å¸ä¸¦æ²’æœ‰æ”¾æ£„ä»–å€‘ã€‚ç›¸åï¼Œä»–å€‘æå‡ºäº†ä¸€å€‹è¨ˆåŠƒï¼Œé€éå¯¦éš›çš„è£œåŠ©é¼“å‹µå“¡å·¥åŠ å…¥å¥èº«æˆ¿ï¼Œæ”¹å–„é£²é£Ÿï¼Œé€™å°å‰›å‡ºç¤¾æœƒæ²’æœ‰å­˜æ¬¾çš„ Jack å¹«åŠ©ç‰¹åˆ¥å¤§ã€‚

Bob å ±ååƒåŠ ä¸€é–“åç‚º StrongLife çš„å¥èº«æˆ¿ï¼Œä¸¦åƒåŠ å¥èº«èª²ç¨‹ï¼Œæƒ³ä¸åˆ°é‚„é‡ä¸Šä»¥å‰å¥½æœ‹å‹ Charlieï¼ä½œç‚ºå¥èº«æ•™ç·´çš„ Charlie æœ‰é€™è‘—æ›´é«˜çš„é«”è„‚è‚ªåŠ BMI è¦æ±‚æ¨™æº–ï¼ŒBob ç«‹åˆ»é‚€è«‹ Charlie ä½œç‚ºä»–çš„å€‹äººæ•™ç·´ã€‚è€Œæ˜”æ—¥çš„å¥½å‹ Alice ç¾åœ¨æ˜¯ Chalie çš„è€å©†ï¼Œç›®å‰æ˜¯ä¸€ä½ç‡Ÿé¤Šå¸«ã€‚æ–¼æ˜¯ Bob é‚€è«‹ Alice ä½œç‚ºä»–çš„ç‡Ÿé¤Šå¸«ï¼Œæ”¹è®Šä»–çš„é£²é£Ÿç¿’æ…£ä¸¦è¨‚å®šæ¸›é‡è¨ˆç•«ï¼Œéµå¾ªè‘—å¥½æœ‹å‹çš„æŒ‡å°ï¼Œä»–çš„å¥åº·ç‹€æ³é€æ¼¸æ”¹å–„ã€‚

Alice å…ˆå¹« Bob è©•ä¼°ä»–çš„ TDEE, ä¹Ÿå°‡æ˜¯æ¯æ—¥æ¶ˆè€—çš„ç†±é‡-- é‚£å¯ä»¥ç”±äººé«”çš„ä»£è¬ã€é‹å‹•é‡æ‰€ä¼°ç®—å‡ºä¾†ã€‚å¦‚æœé«”è„‚è‚ªè¶Šä½å‰‡ä»£è¬èƒ½åŠ›è¶Šå¥½ï¼›é‹å‹•é‡é«˜ä¹Ÿæœƒæ¶ˆè€—æ›´å¤šçš„ç†±é‡ã€‚TDEE å¦‚æœå¤§æ–¼æ”å–çš„ç†±é‡ï¼Œå‰‡é«”é‡æœƒæ¸›è¼•ï¼Œ7000å¤§å¡çš„ç†±é‡èµ¤å­—å¤§ç´„å¯ä»¥æ¸›é‡ä¸€å…¬æ–¤ã€‚Alice å”åŠ©åˆ¶å®šçš„è¨ˆç•«æ˜¯æ¯å¤©æ”å–ä½æ–¼ TDEE 500 å¤§å¡çš„ç†±é‡ï¼ŒæŒçºŒä¸€å€‹æœˆ; å†ä»¥ç›¸åŒæ”å–ç†±é‡ç‚ºåŸºç¤å¢åŠ æ´»å‹•é‡ä¸€å€‹æœˆï¼Œå¦‚æ­¤åè¦†çš„é™ä½ç†±é‡æ”å–èˆ‡å¢åŠ é‹å‹•å¼·åº¦ï¼Œä»–å€‘æœ‰ä¿¡å¿ƒå¯ä»¥å”åŠ© Bob æ¸›é‡ã€‚

å¾ˆå¿«ï¼ŒBob è®Šæˆäº†ä¸€å€‹æ›´å¥åº·ã€æ›´è‡ªä¿¡ã€æ›´æœ‰æ´»åŠ›çš„äººï¼Œä»–å–œæ­¡è§€çœ‹è‡ªå·±çš„é‹å‹•ç´€éŒ„ï¼Œå¾ä¸€é–‹å§‹ä½å¼·åº¦çš„é‹å‹•ï¼ˆä¾‹å¦‚ MET=2.5çš„ç‘œä¼½ï¼‰åˆ°ç¾åœ¨çš„é«˜å¼·åº¦é‹å‹•ï¼ˆä¾‹å¦‚ MET=13 çš„è·³ç¹©ï¼‰ï¼Œæˆå°±æ„Ÿå’Œæ±—æ°´ä¸€æ¨£ä¸æ–·çš„ç´¯ç©ã€‚åœ¨æ­¤åŒæ™‚ï¼Œä»–ä¹Ÿæ¥ç®¡äº† SuccessTech å…¬å¸ï¼Œæ±—æ°´ã€éŠ€è¡Œå¸³æˆ¶ã€å…¬å¸è³‡ç”¢ä¸æ–·çš„å¢åŠ ï¼Œä¹Ÿç´¯ç©äº†ä»–çš„æˆå°±æ„Ÿï¼Œçµ¦äº†ä»–æŒçºŒå‰é€²çš„å‹•åŠ›ã€‚

å¾Œä¾†ï¼ŒBob æ”¶è³¼äº† StrongLife å¥èº«æˆ¿ï¼Œå°‡ SuccessTech çš„è³‡æ–™åˆ†ææŠ€è¡“æ‡‰ç”¨åœ¨å¥èº«æˆ¿ä¸Šï¼Œä¸‰ä½å¥½æœ‹å‹æŒçºŒåœ¨å¥åº·ç§‘å­¸ä¸Šå¤§æ”¾å…‰å½©ã€‚

[Talk](https://docs.google.com/presentation/d/17kL9u7lP_ayCKL7PLt8gGFLvoA6K-7SPK4Bj9w6vpzI/edit?usp=sharing)

## é—œæ–¼æœ¬æ•™æ

* **æ•…äº‹å°å‘**-- é€éä¸€å€‹æ•…äº‹å°å‘çš„æ–¹å¼ï¼Œæä¾›å¤§å®¶èªè­˜ç‰©ä»¶å°å‘è¨­è¨ˆçš„æ–¹æ³•ã€‚ä¸åŒæ–¼å‚³çµ±é™³è¿°ç‰©ä»¶ç‰¹è‰²çš„æ•™æ¢å¼è§£èªªï¼Œç‰©ä»¶çš„ä¸–ç•Œæ˜¯ç›´è¦ºè€Œä¸éœ€è¦å¤ªå¤šé™³è¿°çš„ -- æˆ‘å€‘å¸Œæœ›å¤§å®¶å¯ä»¥ç›´æ¥é€²å…¥ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆçš„ä¸–ç•Œã€‚
* **Python**-- æ¡ç”¨ Python èªæ³•ï¼Œé›–æœƒè¬›è§£éƒ¨åˆ†çš„èªè¨€ç‰¹è‰²ï¼Œä½†è‘—é‡åœ¨ç‰©ä»¶å°å‘è¨­è¨ˆéƒ¨åˆ†ï¼Œå…¶é¤˜çš„ç•¥éï¼Œæ‰€ä»¥éœ€è¦ä¸€é» Python çš„åŸºç¤ã€‚
* **ç‰©ä»¶è¨­è¨ˆ**-- æ—¢ç„¶æ˜¯ç‰½æ¶‰åˆ°è¨­è¨ˆå°±æ‡‰è©²æœ‰è¨­è¨ˆåœ–ã€‚æˆ‘å€‘ä½¿ç”¨ PlantUML ä¾†ç¹ªè£½ä»–çš„è¨­è¨ˆåœ–ï¼Œå¸Œæœ›å¤§å®¶å°ç…§è¨­è¨ˆåœ–èˆ‡ç¨‹å¼ï¼Œæ›´å®¹æ˜“äº†è§£ç‰©ä»¶è¨­è¨ˆçš„æ€ç¶­ã€‚
* **æ¸¬è©¦å°å‘**-- ç¨‹å¼è¦å¯«å°±è¦æ¸¬ï¼Œå¦å‰‡ä½ æ°¸é ä¸çŸ¥é“ä»–çš„å°éŒ¯ã€‚æˆ‘å€‘ç‰¹åˆ¥è‘—é‡å‘ˆç¾æ¸¬è©¦ç¢¼-- å› ç‚ºé€™æ¨£å¤§å®¶æœƒå…ˆçœ‹åˆ°æ€éº½æ‡‰ç”¨ï¼ˆå‘¼å«ï¼‰é€™äº›ç‰©ä»¶ã€‚é€™ç¬¦åˆç‰©ä»¶æŠ½è±¡çš„å·¨è§€æ¦‚å¿µï¼Œç”±å¤–è€Œå…§çš„äº†è§£ç‰©ä»¶çš„è¨­è¨ˆã€‚
* **å¾ªåºæ¼¸é€²**-- åŠ‡ä¸­çš„äººç‰© Bob å¾é«˜ä¸­ï¼Œé ¹å»¢åˆ°ç™¼æ†¤åœ–å¼·çš„æ•…äº‹ï¼Œæˆ‘å€‘æ‹†è§£æˆ10 å€‹å°å–®å…ƒï¼Œæ¯ä¸€å€‹å–®å…ƒå¤§å®¶æœƒçœ‹åˆ°ä¸€é»éœ€æ±‚ï¼Œä¸€é»è¨­è¨ˆï¼Œä¸€é»æ¸¬è©¦ï¼Œå¾ªåºæ¼¸é€²çš„äº†è§£æ•´å€‹ç³»çµ±ã€‚
* **æ•…äº‹ç”¢ç”Ÿå™¨**-- æˆ‘å€‘å‰µå»ºäº†ä¸€å€‹ç°¡å–®çš„æ•…äº‹ç”¢ç”Ÿé¡åˆ¥ï¼Œé€éå®ƒä¾†æè¿° Bob çš„æ•…äº‹ã€‚


## Story code
```python
    Story.cover('>>> FROM OVERWEIGHT TO OVERACHIVER <<< ')

    # chapter I
    Story.chapterHead('ABC ä¸‰å€‹å¥½æœ‹å‹')

    Story.sectionHead('Alice, Bob, Charlie æ˜¯é«˜ä¸­åŒå­¸çš„å¥½æœ‹å‹ï¼Œä»–å€‘éƒ½ç”¨æœ‰å¾ˆä¸éŒ¯çš„é«”æ…‹ã€‚')
    bob = Student('Bob', 1.72, 60,  bodyFat=0.15, age=18, major='Computer')
    charlie = Student('Charlie', 1.80, 72, age=18, bodyFat=0.15, major='Civil')
    alice = Person('Alice', 1.65, 45, age=18, bodyFat=0.12)

    for p in [bob, charlie, alice]:
        print(p)
    Story.sectionEnd()

    Story.sectionHead('ä»–å€‘æˆç«‹äº† Fit ABC ç¤¾åœ˜ï¼Œè‡´åŠ›æ¨å»£å¥åº·è§€å¿µ')
    fit = HighShoolClub('Fit ABC')
    bob.join(fit)
    fit.add(charlie)
    fit.add(alice)
    fit.show()
    for p in [bob, charlie, alice]:
        print(p.getLifeInfo())
    Story.note('ç¤¾åœ˜çš„å¹³å‡ BMI ä¿æŒå¾—å¾ˆå¥½')
    print(fit.getBmiAvgInfo())
    Story.sectionEnd()
    Story.chapterEnd()

    # chapter II
    Story.chapterHead('è¸å‡ºæ ¡åœ’')
    Story.sectionHead('å‡ºç¤¾æœƒå¾Œï¼Œå¤§å®¶çš„é«”æ…‹èˆ‡å·¥ä½œéƒ½æœ‰æ‰€è®ŠåŒ–')

    Story.note('Charlieæˆäº†æ•™ç·´ï¼Œåœ¨ä¸€å®¶å¥èº«ä¸­å¿ƒå·¥ä½œ')
    Story.note('ä»–çš„èº«é«˜è®Šé«˜ï¼Œé«”è„‚è‚ªå’Œé«”é‡é‚„ä¸‹é™äº†')
    charlie = Coach(charlie, expertise='èˆ‰é‡')
    charlie.updateInbody(height=charlie.height + 0.05,
                         weight=charlie.weight-5,
                         bodyFat=charlie.bodyFat-0.03)
    moveX = Company('MoveX', Currency(100000))
    charlie.workFor(moveX)

    print(charlie)

    Story.note('Bob æœ‰é»å®…ï¼Œä¹Ÿä¸å¤ªä¸å¥åº·')
    bob.updateInbody(weight=bob.weight+20,
                     bodyFat=bob.bodyFat*1.3)
    print(bob)

    # chapter III
    Story.chapterHead('å·¥ä½œè³ºéŒ¢')

    Story.sectionHead('Bobé–‹äº†éŠ€è¡Œå¸³æˆ¶ï¼Œé›–ç„¶éŒ¢ä¸å¤š')
    bob.bankAccount = BankAccount(title='Bob', balance=Currency(10000))
    print(bob.getBalanceInfo())
    Story.note('ä¹ŸæŠŠå¤šå¹´çš„ç¾é‡‘å­˜åˆ°æˆ¶é ­')
    bob.bankAccount.deposit(Currency(10000, "USD"))
    print(bob.getBalanceInfo())

    Story.sectionHead('æˆåŠŸçš„æ‰¾åˆ°å·¥ä½œ')
    successTech = Company(title='æˆç§‘è‚¡ä»½æœ‰é™å…¬å¸', asset=Currency(1000000))
    successTech.show()
    successTech.hire(bob)
    # bob.workFor(successTech)
    Story.note(f'è–ªæ°´ {Currency(50000)}')
    print(bob.getLifeInfo())
    successTech.paySalary(bob, Currency(50000, 'NTD'))
    Story.note('å…¬å¸æœ€è¿‘è³ºäº†ä¸å°‘éŒ¢')
    successTech.earnMoney(Currency(1500000))
    print(bob.getBalanceInfo())
    successTech.show()

    Story.chapterEnd()

    # Chapter IV
    Story.chapterHead('å…¬å¸çš„è£œåŠ©')

    Story.note('é›–ç„¶æ¥­ç¸¾ä¸éŒ¯ï¼Œä½† Bob çš„èº«é«”ä¸å¥½')
    Story.note('å…¬å¸é¼“å‹µ Bob å’Œå…¶ä»–åŒä»å¤§å®¶éƒ½å»å¥èº«æˆ¿é‹å‹•')
    strongLife = Gym('StrongLife',
                     asset=Currency(200000),
                     memberFee=Currency(600))
    print(strongLife.getGymInfo())
    try:
        bob.registerGym(strongLife)
    except Exception as noEnoughFund:
        print(noEnoughFund)
    Story.note('Bob åƒåŠ äº†å¥èº«æˆ¿')
    print(bob.getLifeInfo())

    Story.sectionHead('Jack å ±åäº†å¥èº«æˆ¿ï¼Œä½†éŒ¢ä¸å¤ ')
    jack = Person('Jack', 1.72, 100)
    jack.bankAccount = BankAccount(jack.name, balance=Currency(10))
    successTech.hire(jack)
    successTech.paySalary(jack, Currency(10))
    try:
        jack.registerGym(strongLife)
    except Exception as noEnoughFund:
        print(noEnoughFund)
    finally:
        print(jack.getBalanceInfo())

    Story.sectionHead('å…¬å¸è£œåŠ©å¥èº«'+str(Currency(500)))
    successTech.subsidize(jack, Currency(500))
    try:
        jack.registerGym(strongLife)
    except Exception as noEnoughFund:
        print(noEnoughFund)
    print('Jack ä¹ŸåŠ å…¥å¥èº«äº†')
    print(jack.getLifeInfo())

    # Chapter V
    Story.chapterHead('é–‹å§‹å¥èº«')
    Story.note('å¥èº«å‰çš„ Inbodyï¼')
    print(bob.getInbodyInfo())

    Story.note('Charlie è½‰è·åˆ° StrongLife, æ“”ä»» Bob çš„æ•™ç·´')
    bob.workout(Workout.FLYWHEEL, 60, '2023/10/03', 4)
    bob.workout(Workout.AEROBIC_EX, 60, '2023/10/10', 1)
    bob.workout(Workout.SWIM, 60, '2023/10/11', 3)
    bob.workout(Workout.WEIGHT_TRAIN, 60, '2023/10/14', 10)
    bob.workout(Workout.YOGA, 60, '2023/10/20', 10)
    bob.showWorkoutLog()

    Story.note('å¥èº«å¾Œé«”é‡é™ä½äº†ï¼')
    print(bob.getInbodyInfo())

    Story.chapterEnd()

    # Chapter VI
    Story.chapterHead('æ¸›é‡è¨ˆç•«')

    Story.sectionHead('ç¾æ³è©•ä¼°')
    Story.note('Alice æ“”ä»» Bob çš„ç‡Ÿé¤Šå¸«')
    Story.note('é‚„æ²’æœ‰æ¸›é‡è¨ˆåŠƒå‰ Bob çš„ç‹€æ³')
    Story.note('ä»–çš„æ´»å‹•å±¤ç´šè¢«è©•æ–·ç‚ºåç«‹ï¼Œé€™ä¹Ÿå¸¶è¡¨ä»–æ¯å¤©æ¶ˆè€—çš„ç†±é‡å¾ˆä½')

    act = ActivityLevel.SEDENTARY
    print(getTDEEEstInfo(bob, act))

    Story.note('ä»–æ¯å¤©æ”å–çš„ç†±é‡å¤§ç´„ 3000 å¤§å¡ï¼Œå¦‚æœé€™æ¨£æŒçºŒ 30 å¤©')
    dailyCalorie, days = 3000, 30
    Story.note('ä»–çš„æ¸›é‡æ˜¯è² çš„ï¼ï¼ï¼ˆä¹Ÿå°±æ˜¯é«”é‡æŒçºŒå¢åŠ ')
    print(getWeightLossEstInfo(bob,
                               act,
                               dailyCalorie,
                               days))

    Story.sectionHead('ç¬¬ä¸€éšæ®µæ¸›é‡')
    Story.note('æ´»å‹•åŠ›æå‡ä¸€é»ï¼Œå°‘åƒä¸€é»')
    act = ActivityLevel.MODERATELY_ACTIVE
    dailyCalorie, days = 2500, 30
    print(getWeightLossEstInfo(bob,
                               ActivityLevel.MODERATELY_ACTIVE,
                               dailyCalorie,
                               days))

    Story.sectionHead('ç¬¬äºŒéšæ®µæ¸›é‡')
    Story.note('æ´»å‹•åŠ›å†æå‡ï¼Œåƒå¾—æ›´å°‘ï¼ŒæŒçºŒæ›´ä¹…')
    act = ActivityLevel.MODERATELY_ACTIVE
    dailyCalorie, days = 2000, 100
    print(getWeightLossEstInfo(bob,
                               ActivityLevel.VERY_ACTIVE,
                               dailyCalorie,
                               days))

    Story.sectionHead('ç¬¬ä¸‰éšæ®µæ¸›é‡-- ä¿æŒ')
    Story.note('å…ˆçœ‹çœ‹ç›®å‰çš„é«”é‡ä¸‹ï¼ŒTDEEæ˜¯å¤šå°‘')
    print(getTDEEEstInfo(bob, act))

    Story.note('æ´»å‹•åŠ›å†æå‡ï¼Œåƒå¾—å’Œæ¶ˆè€—çš„å·®ä¸å¤šï¼Œé«”é‡å°±å¯ä»¥ç¶­æŒ')
    act = ActivityLevel.MODERATELY_ACTIVE
    bmr = Inbody.estimatedBMR(bob.weight, bob.bodyFat)
    tdee = Inbody.estimatedTDEE(bmr, act)
    dailyCalorie, days = tdee, 100
    print(getWeightLossEstInfo(bob,
                               ActivityLevel.MODERATELY_ACTIVE,
                               dailyCalorie,
                               days))

    # Chapter VII
    Story.chapterHead('ç™¼é”ä¹‹è·¯')
    successTech.earnMoney(Currency(100000000))
    successTech.paySalary(bob, Currency(500000))
    successTech.show()
    print(bob.getLifeInfo())
    print(bob.getInbodyInfo())
```

#### Output

```
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>> FROM OVERWEIGHT TO OVERACHIVER <<< 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

===== CHAPTER 1: ABC ä¸‰å€‹å¥½æœ‹å‹ =====


> Alice, Bob, Charlie æ˜¯é«˜ä¸­åŒå­¸çš„å¥½æœ‹å‹ï¼Œä»–å€‘éƒ½ç”¨æœ‰å¾ˆä¸éŒ¯çš„é«”æ…‹ã€‚

ğŸ‘¤Bob Inbody: 1.72m, 60kg, BMI=20.28, bodyFat=0.15, inbody=é«”æ…‹åˆå®œ
ğŸ‘¤Bob: æœªåƒåŠ ä»»ä½•ç¾¤çµ„;ç›®å‰æ²’æœ‰å·¥ä½œ;ç›®å‰æ²’æœ‰åƒåŠ å¥èº«æˆ¿;ç›®å‰æ²’æœ‰éŠ€è¡Œå¸³æˆ¶
ğŸ‘¤Charlie Inbody: 1.8m, 72kg, BMI=22.22, bodyFat=0.15, inbody=é«”æ…‹åˆå®œ
ğŸ‘¤Charlie: æœªåƒåŠ ä»»ä½•ç¾¤çµ„;ç›®å‰æ²’æœ‰å·¥ä½œ;ç›®å‰æ²’æœ‰åƒåŠ å¥èº«æˆ¿;ç›®å‰æ²’æœ‰éŠ€è¡Œå¸³æˆ¶
ğŸ‘¤Alice Inbody: 1.65m, 45kg, BMI=16.53, bodyFat=0.12, inbody=éè¼•
ğŸ‘¤Alice: æœªåƒåŠ ä»»ä½•ç¾¤çµ„;ç›®å‰æ²’æœ‰å·¥ä½œ;ç›®å‰æ²’æœ‰åƒåŠ å¥èº«æˆ¿;ç›®å‰æ²’æœ‰éŠ€è¡Œå¸³æˆ¶


> ä»–å€‘æˆç«‹äº† Fit ABC ç¤¾åœ˜ï¼Œè‡´åŠ›æ¨å»£å¥åº·è§€å¿µ

ğŸ‘¤Bob: åƒèˆ‡Fit ABCç­‰ç¾¤çµ„;ç›®å‰æ²’æœ‰å·¥ä½œ;ç›®å‰æ²’æœ‰åƒåŠ å¥èº«æˆ¿;ç›®å‰æ²’æœ‰éŠ€è¡Œå¸³æˆ¶
ğŸ‘¤Charlie: åƒèˆ‡Fit ABCç­‰ç¾¤çµ„;ç›®å‰æ²’æœ‰å·¥ä½œ;ç›®å‰æ²’æœ‰åƒåŠ å¥èº«æˆ¿;ç›®å‰æ²’æœ‰éŠ€è¡Œå¸³æˆ¶
ğŸ‘¤Alice: åƒèˆ‡Fit ABCç­‰ç¾¤çµ„;ç›®å‰æ²’æœ‰å·¥ä½œ;ç›®å‰æ²’æœ‰åƒåŠ å¥èº«æˆ¿;ç›®å‰æ²’æœ‰éŠ€è¡Œå¸³æˆ¶
... ç¤¾åœ˜çš„å¹³å‡ BMI ä¿æŒå¾—å¾ˆå¥½
ğŸ‡Fit ABCçš„æˆå“¡å¹³å‡ BMI ç‚º19.68

===== CHAPTER 2: è¸å‡ºæ ¡åœ’ =====


> å‡ºç¤¾æœƒå¾Œï¼Œå¤§å®¶çš„é«”æ…‹èˆ‡å·¥ä½œéƒ½æœ‰æ‰€è®ŠåŒ–

... Charlieæˆäº†æ•™ç·´ï¼Œåœ¨ä¸€å®¶å¥èº«ä¸­å¿ƒå·¥ä½œ
... ä»–çš„èº«é«˜è®Šé«˜ï¼Œé«”è„‚è‚ªå’Œé«”é‡é‚„ä¸‹é™äº†
ğŸ‘¤Charlie Inbody: 1.85m, 67kg, BMI=19.58, bodyFat=0.12, inbody=é«”æ…‹åˆå®œ
ğŸ‘¤Charlie: åƒèˆ‡Fit ABCç­‰ç¾¤çµ„;åœ¨MoveXå·¥ä½œ;ç›®å‰æ²’æœ‰åƒåŠ å¥èº«æˆ¿;ç›®å‰æ²’æœ‰éŠ€è¡Œå¸³æˆ¶
... Bob æœ‰é»å®…ï¼Œä¹Ÿä¸å¤ªä¸å¥åº·
ğŸ‘¤Bob Inbody: 1.72m, 80kg, BMI=27.04, bodyFat=0.2, inbody=éé‡
ğŸ‘¤Bob: åƒèˆ‡Fit ABCç­‰ç¾¤çµ„;ç›®å‰æ²’æœ‰å·¥ä½œ;ç›®å‰æ²’æœ‰åƒåŠ å¥èº«æˆ¿;ç›®å‰æ²’æœ‰éŠ€è¡Œå¸³æˆ¶

===== CHAPTER 3: å·¥ä½œè³ºéŒ¢ =====


> Bobé–‹äº†éŠ€è¡Œå¸³æˆ¶ï¼Œé›–ç„¶éŒ¢ä¸å¤š

ğŸ‘¤Bobå­˜æ¬¾ï¼šğŸ’°NTD10,000
... ä¹ŸæŠŠå¤šå¹´çš„ç¾é‡‘å­˜åˆ°æˆ¶é ­
ğŸ‘¤Bobå­˜æ¬¾ï¼šğŸ’°NTD310,000

> æˆåŠŸçš„æ‰¾åˆ°å·¥ä½œ

ğŸ¢æˆç§‘è‚¡ä»½æœ‰é™å…¬å¸æ˜¯åˆæ³•ç™»è¨˜çš„å…¬å¸ï¼Œç›®å‰è³‡ç”¢æœ‰ğŸ’°NTD1,000,000
... è–ªæ°´ ğŸ’°NTD50,000
ğŸ‘¤Bob: åƒèˆ‡Fit ABCç­‰ç¾¤çµ„;åœ¨æˆç§‘è‚¡ä»½æœ‰é™å…¬å¸å·¥ä½œ;ç›®å‰æ²’æœ‰åƒåŠ å¥èº«æˆ¿;æœ‰ğŸ’°NTD310,000å­˜æ¬¾
... å…¬å¸æœ€è¿‘è³ºäº†ä¸å°‘éŒ¢
ğŸ‘¤Bobå­˜æ¬¾ï¼šğŸ’°NTD360,000
ğŸ¢æˆç§‘è‚¡ä»½æœ‰é™å…¬å¸æ˜¯åˆæ³•ç™»è¨˜çš„å…¬å¸ï¼Œç›®å‰è³‡ç”¢æœ‰ğŸ’°NTD2,450,000

===== CHAPTER 5: é–‹å§‹å¥èº« =====

... å¥èº«å‰çš„ Inbodyï¼
ğŸ‘¤Bob Inbody: 1.72m, 80kg, BMI=27.04, bodyFat=0.2, inbody=éé‡
... Charlie è½‰è·åˆ° StrongLife, æ“”ä»» Bob çš„æ•™ç·´
Bob çš„å¥èº«ç´€éŒ„ï¼š
------------
ğŸ‘¤Bobæ–¼ 10/03, åœ¨ğŸ‹ï¸â€â™‚ï¸StrongLife é€²è¡Œé£›è¼ªè¨“ç·´4æ¬¡ï¼Œæ¯æ¬¡60åˆ†é˜ã€‚
ğŸ‘¤Bobæ–¼10/10, åœ¨ğŸ‹ï¸â€â™‚ï¸StrongLife é€²è¡Œæœ‰æ°§é‹å‹•è¨“ç·´1æ¬¡ï¼Œæ¯æ¬¡60åˆ†é˜ã€‚
ğŸ‘¤Bobæ–¼10/11, åœ¨ğŸ‹ï¸â€â™‚ï¸StrongLife é€²è¡Œæ¸¸æ³³è¨“ç·´3æ¬¡ï¼Œæ¯æ¬¡60åˆ†é˜ã€‚
ğŸ‘¤Bobæ–¼10/14, åœ¨ğŸ‹ï¸â€â™‚ï¸StrongLife é€²è¡Œé‡è¨“è¨“ç·´10æ¬¡ï¼Œæ¯æ¬¡60åˆ†é˜ã€‚
ğŸ‘¤Bobæ–¼10/20, åœ¨ğŸ‹ï¸â€â™‚ï¸StrongLife é€²è¡Œç‘œä¼½è¨“ç·´10æ¬¡ï¼Œæ¯æ¬¡60åˆ†é˜ã€‚
------------
... å¥èº«å¾Œé«”é‡é™ä½äº†ï¼
ğŸ‘¤Bob Inbody: 1.72m, 78.54kg, BMI=26.55, bodyFat=0.2, inbody=éé‡


===== CHAPTER 6: æ¸›é‡è¨ˆç•« =====


> ç¾æ³è©•ä¼°

... Alice æ“”ä»» Bob çš„ç‡Ÿé¤Šå¸«
... é‚„æ²’æœ‰æ¸›é‡è¨ˆåŠƒå‰ Bob çš„ç‹€æ³
... ä»–çš„æ´»å‹•å±¤ç´šè¢«è©•æ–·ç‚ºåç«‹ï¼Œé€™ä¹Ÿå¸¶è¡¨ä»–æ¯å¤©æ¶ˆè€—çš„ç†±é‡å¾ˆä½
ä¾æ“šBobçš„é«”é‡ã€é«”è„‚è‚ªåŠæ´»å‹•é‡(ä¹…å)ï¼Œ é ä¼°BMRåŸºç¤ä»£è¬ğŸ”¥1,727å¤§å¡; TDEE æ¯æ—¥ç†±é‡ç¸½è€—ğŸ”¥2,280å¤§å¡
... ä»–æ¯å¤©æ”å–çš„ç†±é‡å¤§ç´„ 3000 å¤§å¡ï¼Œå¦‚æœé€™æ¨£æŒçºŒ 30 å¤©
... ä»–çš„æ¸›é‡æ˜¯è² çš„ï¼ï¼ï¼ˆä¹Ÿå°±æ˜¯é«”é‡æŒçºŒå¢åŠ 
Bobæ¯å¤©çš„ç†±é‡æ”å–ğŸ”¥3000å¤§å¡, BMRåŸºç¤ä»£è¬ğŸ”¥1,727å¤§å¡; æ´»å‹•ç¿’æ…£:ä¹…å; TDEE æ¯æ—¥ç†±é‡ç¸½è€—ğŸ”¥2,280å¤§å¡
é ä¼°30å¤©å¾Œæ¸›é‡ -2.7kg
ğŸ‘¤Bob Inbody: 1.72m, 81.24kg, BMI=27.46, bodyFat=0.2, inbody=éé‡

> ç¬¬ä¸€éšæ®µæ¸›é‡

... æ´»å‹•åŠ›æå‡ä¸€é»ï¼Œå°‘åƒä¸€é»
Bobæ¯å¤©çš„ç†±é‡æ”å–ğŸ”¥2500å¤§å¡, BMRåŸºç¤ä»£è¬ğŸ”¥1,774å¤§å¡; æ´»å‹•ç¿’æ…£:ä¸­åº¦æ´»å‹•; TDEE æ¯æ—¥ç†±é‡ç¸½è€—ğŸ”¥3,024å¤§å¡
é ä¼°30å¤©å¾Œæ¸›é‡ 2.1kg
ğŸ‘¤Bob Inbody: 1.72m, 79.14kg, BMI=26.75, bodyFat=0.2, inbody=éé‡

> ç¬¬äºŒéšæ®µæ¸›é‡

... æ´»å‹•åŠ›å†æå‡ï¼Œåƒå¾—æ›´å°‘ï¼ŒæŒçºŒæ›´ä¹…
Bobæ¯å¤©çš„ç†±é‡æ”å–ğŸ”¥2000å¤§å¡, BMRåŸºç¤ä»£è¬ğŸ”¥1,738å¤§å¡; æ´»å‹•ç¿’æ…£:é«˜åº¦æ´»å‹•; TDEE æ¯æ—¥ç†±é‡ç¸½è€—ğŸ”¥3,297å¤§å¡
é ä¼°100å¤©å¾Œæ¸›é‡ 17.0kg
ğŸ‘¤Bob Inbody: 1.72m, 62.14kg, BMI=21.0, bodyFat=0.2, inbody=é«”æ…‹åˆå®œ

> ç¬¬ä¸‰éšæ®µæ¸›é‡-- ä¿æŒ

... å…ˆçœ‹çœ‹ç›®å‰çš„é«”é‡ä¸‹ï¼ŒTDEEæ˜¯å¤šå°‘
ä¾æ“šBobçš„é«”é‡ã€é«”è„‚è‚ªåŠæ´»å‹•é‡(ä¸­åº¦æ´»å‹•)ï¼Œ é ä¼°BMRåŸºç¤ä»£è¬ğŸ”¥1,444å¤§å¡; TDEE æ¯æ—¥ç†±é‡ç¸½è€—ğŸ”¥2,462å¤§å¡
... æ´»å‹•åŠ›å†æå‡ï¼Œåƒå¾—å’Œæ¶ˆè€—çš„å·®ä¸å¤šï¼Œé«”é‡å°±å¯ä»¥ç¶­æŒ
Bobæ¯å¤©çš„ç†±é‡æ”å–ğŸ”¥2462å¤§å¡, BMRåŸºç¤ä»£è¬ğŸ”¥1,444å¤§å¡; æ´»å‹•ç¿’æ…£:ä¸­åº¦æ´»å‹•; TDEE æ¯æ—¥ç†±é‡ç¸½è€—ğŸ”¥2,462å¤§å¡
é ä¼°100å¤©å¾Œæ¸›é‡ 0.0kg
ğŸ‘¤Bob Inbody: 1.72m, 62.14kg, BMI=21.0, bodyFat=0.2, inbody=é«”æ…‹åˆå®œ

===== CHAPTER 7: ç™¼é”ä¹‹è·¯ =====

ğŸ¢æˆç§‘è‚¡ä»½æœ‰é™å…¬å¸æ˜¯åˆæ³•ç™»è¨˜çš„å…¬å¸ï¼Œç›®å‰è³‡ç”¢æœ‰ğŸ’°NTD101,949,490
ğŸ‘¤Bob: åƒèˆ‡Fit ABC,ğŸ‹ï¸â€â™‚ï¸StrongLifeç­‰ç¾¤çµ„;åœ¨æˆç§‘è‚¡ä»½æœ‰é™å…¬å¸å·¥ä½œ(è–ªæ°´{self._salary}k);åœ¨StrongLifeå¥èº«;æœ‰ğŸ’°NTD859,400å­˜æ¬¾
ğŸ‘¤Bob Inbody: 1.72m, 62.14kg, BMI=21.0, bodyFat=0.2, inbody=é«”æ…‹åˆå®œ
```

## Unit01 Bob, Charlie å’Œ Alice 

#### åˆ†æ

æœ‰ä¸€å€‹åå«**é®‘ä¼¯**ï¼ˆBobï¼‰çš„å¹´è¼•äººï¼Œä»–å–œæ­¡åƒæ¼¢å ¡èº«æå£¯ç¢©ï¼Œç¸½æ˜¯è¢«å–ç¬‘ã€‚ä»–æœ‰ä¸€å€‹å¤¢æƒ³ï¼Œæƒ³è¦åœ¨ä¸€å®¶å¤§å…¬å¸å·¥ä½œï¼Œä½†ä»–ä¸€ç›´æ‰¾ä¸åˆ°æ©Ÿæœƒã€‚é®‘ä¼¯è¢«ä»–çš„æœ‹å‹æˆ²ç¨±ã€Œå¤§é®‘ä¼¯ã€(Big Bob)ã€‚

é«˜ä¸­æ™‚æœŸçš„ Bob å¯ä¸æ˜¯é€™æ¨£ï¼Œä»–å’Œå…©ä½**å¥½æœ‹å‹** Alice åŠ Charlie å…±åŒå‰µç«‹ä¸€å€‹**ç¤¾åœ˜ FitABC**ï¼Œæ¨å»£å„é …é‹å‹•ã€‚é™¤äº† Alice æœ‰é»å¤ªç˜¦å¤–ï¼Œå¤§å®¶çš„å¹³å‡é«”æ…‹éƒ½ä¿æŒçš„ç›¸ç•¶çš„å¥½ï¼Œæ•´å€‹ç¤¾åœ˜çš„å¹³å‡ **BMI** è½åœ¨ 19ï¼Œç›¸ç•¶çš„å¥½ã€‚ 

é€™ä¸€å¤©ï¼Œä»–çœ‹åˆ°ä¸€å€‹å·¥ä½œæ‹›è˜å»£å‘Šï¼Œ**å…¬å¸**åå«ã€ŒSuccessTech æœ‰é™å…¬å¸ã€ï¼Œæ˜¯å’Œä»–çš„**æœ¬æ¥­**è³‡è¨Šå·¥ç¨‹ç›¸é—œçš„ã€‚Bob æ¯…ç„¶æ±ºå®šå˜—è©¦ä¸€ä¸‹ï¼Œå„˜ç®¡ä»–å°è‡ªå·±çš„èƒ½åŠ›å’Œå¤–è¡¨æ„Ÿåˆ°ç¼ºä¹è‡ªä¿¡ã€‚ä»–ç¶“æ­·äº†ä¸€æ¬¡ç·Šå¼µçš„**é¢è©¦**ï¼Œé‹æ°£ä¸éŒ¯çš„ï¼Œä»–è¢«**éŒ„å–**äº†ã€‚

Bob çš„å·¥ä½œä¸¦ä¸è¼•é¬†ï¼Œä»–è¦ºå¾—è‡ªå·±ç„¡æ³•è·Ÿä¸Šå¿«ç¯€å¥çš„å·¥ä½œå’ŒåŒäº‹å€‘çš„**èƒ½åŠ›**ã€‚ä½†ä»–éå¸¸åŠªåŠ›å·¥ä½œï¼Œæ¯å¤©éƒ½**åŠ ç­**ï¼ŒèªçœŸ**å­¸ç¿’**æ–°æ±è¥¿ã€‚ä»–çš„å …éŸŒåŠªåŠ›é–‹å§‹å¸å¼•åŒäº‹å’Œä¸Šå¸çš„é—œæ³¨ã€‚

å…¬å¸çš„**åˆ©æ½¤**èˆ‡**è³‡ç”¢**ä¸æ–·å¢åŠ ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†è¦å®Œæˆ Bob çš„åŠªåŠ›ã€‚ä»–ç”¨ä»–è‡ªå·±çš„æ–¹å¼è§£æ±ºå•é¡Œï¼Œå‰µé€ äº†ä¸€äº›ä»¤äººé©šå˜†çš„è§£æ±ºæ–¹æ¡ˆã€‚ä»–çš„åŒäº‹é–‹å§‹è®šè³ä»–çš„èƒ½åŠ›ï¼Œè€Œä¸å†é—œå¿ƒä»–çš„å¤–è¡¨ï¼Œä»–çš„**è–ªæ°´**ä¹Ÿä¸æ–·çš„ä¸Šå‡ã€‚

ç„¶è€Œï¼Œå…¬å¸çš„é«˜å±¤é–‹å§‹æ“”å¿ƒ Bob çš„**å¥åº·**ç‹€æ³ï¼Œä»–çš„ BMI æ˜¯**è¶…é«˜**çš„ 40ã€‚ä»–é•·æ™‚é–“çš„åŠ ç­å’Œä¸å¥åº·çš„ç”Ÿæ´»æ–¹å¼ä½¿ä»–çš„**é«”é‡**å’Œ**å¥åº·ç‹€æ³**æƒ¡åŒ–ã€‚å…¬å¸æ±ºå®šæ¡å–è¡Œå‹•ã€‚

ä»–å€‘å®‰æ’äº†ä¸€æ¬¡å…¬å¸**å¥åº·æª¢æŸ¥**ï¼Œçµæœé¡¯ç¤º Bob å’Œå…¶ä»–å“¡å·¥å€‘çš„å¥åº·ç‹€æ³éƒ½ä¸å¥½ã€‚å…¬å¸ä¸¦æ²’æœ‰æ”¾æ£„ä»–å€‘ã€‚ç›¸åï¼Œä»–å€‘æå‡ºäº†ä¸€å€‹**è¨ˆåŠƒ**ï¼Œé€éå¯¦éš›çš„**è£œåŠ©**é¼“å‹µå“¡å·¥åŠ å…¥**å¥èº«æˆ¿**ï¼Œæ”¹å–„é£²é£Ÿï¼Œé€™å°å‰›å‡ºç¤¾æœƒæ²’æœ‰**å­˜æ¬¾**çš„ Jack å¹«åŠ©ç‰¹åˆ¥å¤§ã€‚

Bob **å ±å**åƒåŠ ä¸€é–“åç‚º StrongLife çš„**å¥èº«æˆ¿**ï¼Œä¸¦åƒåŠ å¥èº«èª²ç¨‹ï¼Œæƒ³ä¸åˆ°é‚„é‡ä¸Šä»¥å‰å¥½æœ‹å‹ Charlieï¼ä½œç‚ºå¥èº«æ•™ç·´çš„ Charlie æœ‰é€™è‘—æ›´é«˜çš„**é«”è„‚è‚ª**åŠ BMI **è¦æ±‚æ¨™æº–**ï¼ŒBob ç«‹åˆ»é‚€è«‹ Charlie ä½œç‚ºä»–çš„å€‹äºº**æ•™ç·´**ã€‚è€Œæ˜”æ—¥çš„å¥½å‹ Alice ç¾åœ¨æ˜¯ Chalie çš„è€å©†ï¼Œç›®å‰æ˜¯ä¸€ä½**ç‡Ÿé¤Šå¸«**ã€‚æ–¼æ˜¯ Bob é‚€è«‹ Alice ä½œç‚ºä»–çš„ç‡Ÿé¤Šå¸«ï¼Œæ”¹è®Šä»–çš„é£²é£Ÿç¿’æ…£ä¸¦è¨‚å®š**æ¸›é‡è¨ˆç•«**ï¼Œéµå¾ªè‘—å¥½æœ‹å‹çš„æŒ‡å°ï¼Œä»–çš„å¥åº·ç‹€æ³é€æ¼¸æ”¹å–„ã€‚

Alice å…ˆå¹« Bob è©•ä¼°ä»–çš„ **TDEE**, ä¹Ÿå°‡æ˜¯**æ¯æ—¥æ¶ˆè€—çš„ç†±é‡**-- é‚£å¯ä»¥ç”±äººé«”çš„**ä»£è¬**ã€**é‹å‹•é‡**æ‰€ä¼°ç®—å‡ºä¾†ã€‚å¦‚æœé«”è„‚è‚ªè¶Šä½å‰‡ä»£è¬èƒ½åŠ›è¶Šå¥½ï¼›é‹å‹•é‡é«˜ä¹Ÿæœƒæ¶ˆè€—æ›´å¤šçš„ç†±é‡ã€‚TDEE å¦‚æœå¤§æ–¼æ”å–çš„ç†±é‡ï¼Œå‰‡é«”é‡æœƒæ¸›è¼•ï¼Œ7000å¤§å¡çš„ç†±é‡èµ¤å­—å¤§ç´„å¯ä»¥**æ¸›é‡**ä¸€å…¬æ–¤ã€‚Alice å”åŠ©åˆ¶å®šçš„è¨ˆç•«æ˜¯æ¯å¤©æ”å–ä½æ–¼ TDEE 500 å¤§å¡çš„ç†±é‡ï¼ŒæŒçºŒä¸€å€‹æœˆ; å†ä»¥ç›¸åŒæ”å–ç†±é‡ç‚ºåŸºç¤å¢åŠ æ´»å‹•é‡ä¸€å€‹æœˆï¼Œå¦‚æ­¤åè¦†çš„é™ä½ç†±é‡æ”å–èˆ‡å¢åŠ é‹å‹•å¼·åº¦ï¼Œä»–å€‘æœ‰ä¿¡å¿ƒå¯ä»¥å”åŠ© Bob æ¸›é‡ã€‚

å¾ˆå¿«ï¼ŒBob è®Šæˆäº†ä¸€å€‹æ›´å¥åº·ã€æ›´è‡ªä¿¡ã€æ›´æœ‰æ´»åŠ›çš„äººï¼Œä»–å–œæ­¡è§€çœ‹è‡ªå·±çš„é‹å‹•ç´€éŒ„ï¼Œå¾ä¸€é–‹å§‹**ä½å¼·åº¦çš„é‹å‹•**ï¼ˆä¾‹å¦‚ **MET**=2.5çš„ç‘œä¼½ï¼‰åˆ°ç¾åœ¨çš„é«˜å¼·åº¦é‹å‹•ï¼ˆä¾‹å¦‚ MET=13 çš„è·³ç¹©ï¼‰ï¼Œæˆå°±æ„Ÿå’Œæ±—æ°´ä¸€æ¨£ä¸æ–·çš„ç´¯ç©ã€‚åœ¨æ­¤åŒæ™‚ï¼Œä»–ä¹Ÿæ¥ç®¡äº† SuccessTech å…¬å¸ï¼Œæ±—æ°´ã€éŠ€è¡Œå¸³æˆ¶ã€å…¬å¸è³‡ç”¢ä¸æ–·çš„å¢åŠ ï¼Œä¹Ÿç´¯ç©äº†ä»–çš„æˆå°±æ„Ÿï¼Œçµ¦äº†ä»–æŒçºŒå‰é€²çš„å‹•åŠ›ã€‚

å¾Œä¾†ï¼ŒBob æ”¶è³¼äº† StrongLife å¥èº«æˆ¿ï¼Œå°‡ SuccessTech çš„è³‡æ–™åˆ†ææŠ€è¡“æ‡‰ç”¨åœ¨å¥èº«æˆ¿ä¸Šï¼Œä¸‰ä½å¥½æœ‹å‹æŒçºŒåœ¨å¥åº·ç§‘å­¸ä¸Šå¤§æ”¾å…‰å½©ã€‚


* ä¸€å€‹äºº (Person) æœ‰å§“åã€èº«é«˜ã€é«”é‡ã€å¹´é½¡ç­‰è³‡è¨Š
    * name, weight ç­‰ç¨±ä¹‹ç‚ºç‰©ä»¶çš„å±¬æ€§
* å¯ä»¥é€é person.BMI ä¾†å–å¾—å…¶ BMI çš„æ•¸å€¼
* å¯ä»¥é€é person.getInbodyInfo() ç²å¾—å…¶å¥åº·çš„ç‹€æ…‹
* å­¸ç”Ÿ (Student) ä¹Ÿæ˜¯ä¸€ç¨®äºº (Person)ï¼Œå·®åˆ¥åœ¨æ–¼å‰è€…åœ¨ç”Ÿæˆæ™‚å¿…é ˆè¨­å®šå…¶ä¸»ä¿®
    * Student æ˜¯ Person çš„å»¶ä¼¸é¡åˆ¥ï¼ˆæˆ–ç¨±ä¹‹ç‚ºå­é¡åˆ¥ï¼‰
* å¯ä»¥ä¿®æ”¹é«”é‡ï¼ŒåŒæ™‚è¦ä¿®æ”¹ BMI åŠå¥åº·ç‹€æ…‹
    * update() ç¨±ä¹‹ç‚ºæ–¹æ³• (method)ï¼Œç”¨ä¾†æä¾›ä¸€å€‹å¤–ç•Œèˆ‡è©²ç‰©ä»¶æºé€šçš„ä»‹é¢

#### Design
```plantuml
class Person {
    - __init__(name, weight, height, body, bodyFat)
    - name: String
    - weight: int
    - height: float
    - bodyFat: float
    - salary: float
    - age: int
    - {derived} BMI: float
    ---
    + getBMI(): float
    + updateInbody(weight, height, bodyFat)
    + getInbodyInfo(): str
    + __str__(): String
}

class Student {
    - major: String
}


Person <|-- Student
```

#### Test code: 
```python
class TestPerson(unittest.TestCase):

    # å€‹äººçš„ BMI å’Œå¥åº·ç‹€æ…‹è¦æ­£ç¢º
    def test_person(self):
        bob = Student('Bob', 1.72, 60, 18, 'Computer')
        charlie = Student('Charlie', 1.80, 70, 18, 'Civil')
        alice = Person('Alice', 1.65, 45, 18)

        self.assertAlmostEqual(bob.getBMI(), 20.25, places=1)
        self.assertEqual(charlie.name, 'Charlie')
        self.assertEqual(alice.getHealthStatus(), Health.TOO_LIGHT)

        # bob é«”é‡å¢åˆ°äº† 120
        bob.update(weight=120)
        self.assertAlmostEqual(bob.getBMI(), 40.56, places=1)
```    

[Testing code in GitHub](https://github.com/nlhsueh/iGer-bmi-story/blob/u01_people/storyTest.py)


#### Implementation

* é¡åˆ¥èˆ‡ç‰©ä»¶
    * Person æ˜¯é¡åˆ¥; nick æ˜¯ç‰©ä»¶
* å°è£
    * name, weight, height è¢«å°è£åœ¨ Person ä¸­
* å…¬é–‹æ–¹æ³•
    * `getBMI() æä¾›æœå‹™; èº«é«˜é«”é‡å‰‡éš±è—ä¸å…¬é–‹
* Python 
    * `__str__()` æ˜¯ä¸€å€‹é­”è¡“æ–¹æ³• (magic æ–¹æ³•); ç•¶å‘¼å« `print()` æ™‚ï¼Œå°±æœƒå¼•ç”¨æ­¤æ–¹æ³•ã€‚
    * `__init__()` æ˜¯ç‰©ä»¶çš„å»ºæ§‹å­
    * `self` è¡¨ç¤ºç‰©ä»¶æœ¬èº«ï¼Œåªè¦å¼•ç”¨ç‰©ä»¶å…§éƒ¨çš„å±¬æ€§å’Œæ–¹æ³•ï¼Œå°±å¿…é ˆåŠ ä¸Š `self`

[Implementation in GitHub](https://github.com/nlhsueh/iGer-bmi-story/blob/u01_people/bmiStory.py)

## Unit02 FitABC ç¤¾åœ˜

* äººå¯ä»¥åŠ å…¥ä¸€å€‹ç¾¤é«”ï¼Œä¾‹å¦‚ç¤¾åœ˜ã€å…¬å¸æˆ–æ˜¯å¥èº«æˆ¿
* æ­¤è¨­å®šä¸»è¦æ˜¯è¦è¨ˆç®—ç¾¤çµ„å¥åº·æŒ‡æ¨™
* å¯ä»¥æŸ¥è©¢ä¸€å€‹ç¾¤çµ„ç¬¦åˆæŸå€‹å¥åº·ç‹€æ…‹çš„äººæœ‰å“ªäº›ï¼Œä½œç‚ºå¾ŒçºŒå¥åº·è¿½è¹¤çš„ç›®çš„

#### Design

```plantuml
abstract class HGroup {
    - title: String
    - people: list(Person)
    ---
    + avgBMI(): float
    + queryByInbody(Inbody): list(Person)
    + add(Person)
    + getMembers(): Person
    + {abstract} show()
}

HGroup "0..*" o-->"0..*" Person
HGroup <|-- Gym
Company <|-- Gym
HGroup <|-- HighSchoolClub

```

#### Test
```python
class TestGroup(unittest.TestCase):

    def setUp(self):
        self.bob = Student('Bob', 1.72, 60, 18, 'Computer')
        self.charlie = Student('Charlie', 1.80, 70, 18, 'Civil')
        self.alice = Person('Alice', 1.65, 45, 18)

        # ç¤¾åœ˜
        self.fit = HighShoolClub('Fit ABC')

    # ç¾¤çµ„ï¼šåŠ å…¥ä¸€ç¾¤äººå¾Œï¼Œç¾¤é«” bmi è¦æ­£ç¢º
    def test_group_health(self):
        self.fit.add(self.bob)
        self.fit.add(self.charlie)
        self.fit.add(self.alice)

        self.assertAlmostEqual(self.fit.avgBMI(), 19.45, 1)

    # ç¾¤çµ„ï¼šæ‰¾å‡ºä¸€å€‹ç¾¤çµ„ä¸­ï¼Œå¥åº·çš„äººã€éé‡çš„ã€éè¼•çš„
    def test_get_healthy_people(self):
        self.fit.add(self.bob)
        self.fit.add(self.charlie)
        self.fit.add(self.alice)

        self.assertEqual(self.fit.getHealthList(
            Health.FIT), {self.bob, self.charlie})
        self.assertEqual(self.fit.getHealthList(
            Health.TOO_LIGHT), {self.alice})
        self.assertEqual(self.fit.getHealthList(Health.OVER_WEIGHTED), None)

    # å±•ç¤ºä¸åŒçš„ç¾¤çµ„æœ‰ä¸åŒçš„æè¿°æ–¹æ³• (desc)
    def test_show_group_desc(self):
        self.fit.add(self.bob)
        self.fit.add(self.charlie)
        self.fit.add(self.alice)

        google = Company('Google', asset=100)
        groups = [self.fit, google]

        print('\n==== Group description ====')
        for g in groups:
            g.desc()
```

ç¾¤çµ„ï¼šæ‰¾å‡ºä¸€å€‹ç¾¤çµ„ä¸­ï¼Œå¥åº·çš„äººã€éé‡çš„ã€éè¼•çš„

```python
    def test_get_healthy_people(self):
        bob = Student(name='Bob', height=1.72, weight=60, age=18,
                      major='Computer')
        charlie = Student('Charlie', 1.80, 70, 18, 'Civil')
        alice = Person('Alice', 1.65, 45, 18)
        fit_friend = Group('Fit ABC')
        fit_friend.add(bob)
        fit_friend.add(charlie)
        fit_friend.add(alice)

        self.assertEqual(fit_friend.getHealthList(Health.FIT), {bob, charlie})
        self.assertEqual(fit_friend.getHealthList(Health.TOO_LIGHT), {alice})
        self.assertEqual(fit_friend.getHealthList(Health.OVER_WEIGHTED), None)
```        
## Unit03 éŒ¢å¹£èˆ‡åŒ¯å…Œ

* éŒ¢å¹£æ‡‰è©²åŒ…å«æ•¸é‡èˆ‡å¹£å€¼
* éŒ¢å¹£å¯ä»¥ç›¸åŠ ï¼Œç›¸æ¸›ï¼Œæ¯”è¼ƒï¼Œå³ä¾¿æ˜¯ä¸åŒçš„å¹£å€¼

#### Design

```plantuml
class Currency {
    - amount: float
    - symbol: string
    - convert()
    + __add__()
    + __sub__()
    + __le__()
    + __ge__()    
}
```

#### Test


```python
    # æ¸¬è©¦éŒ¢å¹£çš„è™•ç†ï¼Œè‡ºå¹£å’Œè‡ºå¹£
    def test_currency(self):
        ntd120 = Currency(120)
        self.assertEqual(ntd120.amount, 120)
        self.assertEqual(ntd120.symbol, 'NTD')

        ntd100 = Currency(100, 'NTD')
        r = ntd120+ntd100
        self.assertEqual(r.amount, 220)
        self.assertEqual(r.symbol, 'NTD')

        r = ntd120-ntd100
        self.assertEqual(r.amount, 20)
        self.assertEqual(r.symbol, 'NTD')

        self.assertTrue(ntd120 >= ntd100)
        self.assertFalse(ntd100 >= ntd120)

    # å°å¹£èˆ‡ç¾é‡‘çš„é‹ç®—
    def test_currency_convert(self):
        ntd120 = Currency(120)
        us100 = Currency(100, 'USD')
        self.assertEqual(Currency.NTD_RATE, 30)
        sum = ntd120 + us100
        self.assertEqual(sum.amount, 120+100*Currency.NTD_RATE)
        self.assertEqual(sum.symbol, 'NTD')

        diff = us100 - ntd120
        self.assertEqual(diff.amount, 100 - 120/Currency.NTD_RATE, 2)
        self.assertEqual(diff.symbol, 'USD')

        self.assertTrue(us100 >= ntd120)
        self.assertFalse(ntd120 >= us100)
```

#### Implementation

* Company å»ºç«‹æ™‚å¿…é ˆæœ‰è³‡ç”¢ï¼Œæ‰€ä»¥å»ºæ§‹å­éœ€è¦åŠ ä¸Šè³‡ç”¢ assert çš„åƒæ•¸
* éŒ¢å¹£æ˜¯ä¸€å€‹é¡åˆ¥ï¼Œå› ç‚ºä»–å¿…é ˆå°è£é‡‘é¡èˆ‡å¹£å€¼
* è§’è‰²æ˜¯ä¸€å€‹å­é¡åˆ¥å—ï¼ŸWorker æ˜¯ä¸€å€‹é¡åˆ¥æŠ‘æˆ–æ˜¯ Person ä¸­æ·»åŠ ä¸€å€‹ role çš„å±¬æ€§ï¼Ÿ
* Currency çš„é­”è¡“æ–¹æ³•ï¼š`__add__()` èˆ‡ `__sub__()`  åˆ†åˆ¥ä»£è¡¨ `+`, `-`

## Unit04 Bob çš„å­˜æ¬¾

* éŠ€è¡Œå¸³æˆ¶å¯ä»¥å„²å­˜èˆ‡é ˜å‡ºéŒ¢å¹£ï¼Œå¿…é ˆè¦æœ‰ç”³è«‹è€…çš„å§“å
* åªæ”¯æ´å°å¹£å¸³æˆ¶ï¼Œå¦‚æœæŒ‡æ˜æ˜¯ç¾é‡‘çš„è©±ï¼Œæœƒé€šéåŒ¯ç‡çš„è½‰æ›å­˜å…¥/æå‡º
* éŠ€è¡Œå¸³æˆ¶å¯ä»¥æŸ¥è©¢é¤˜æ¬¾
* å¦‚æœææ¬¾é‡‘é¡å¤§æ–¼é¤˜æ¬¾ï¼Œè¦æ‹‹å‡ºä¾‹å¤–ï¼Œä¸”é¤˜æ¬¾ä¸è®Š

#### Design

```plantuml
class BankAccount {
    - title_: str
    - balance: Currency
    + deposit(Currency)
    + withdraw(Currency)
}

class Person {
    - bankAccount: BankAccount
    + getBalance(): Currency
}

class Currency {
    - amount: float
    - symbol: string
    - convert()
    + __add__()
    + __sub__()
    + __le__()
    + __ge__()    
}


Person "1" *-> "*" BankAccount: own
BankAccount -> Person: belongs to
BankAccount o--> Currency
```

#### Test

```python
class TestAccount(unittest.TestCase):
    def setUp(self) -> None:
        # bob
        self.bob = Person('Bob', 1.72, 100, 40)
        self.bob_bAccount = BankAccount(self.bob.name, balance = Currency(10000))
        self.bob.setBankAccount(self.bob_bAccount)

    def test_deposit_ntd(self):
        self.bob_bAccount.deposit(Currency(10000))        # å­˜å…¥å°å¹£ 10000
        self.assertEqual(self.bob.getBalance(), Currency(20000))

    def test_deposit_usd(self):
        self.bob_bAccount.deposit(Currency(100, "USD"))   # å­˜å…¥ç¾é‡‘
        newB = 10000 + 100 * Currency.NTD_RATE
        self.assertEqual(self.bob.getBalance(), Currency(newB))

    def test_withdraw_usd(self):
        self.bob_bAccount.withdraw(Currency(100, "USD"))  # é ˜å‡ºç¾é‡‘
        newB = 10000 - 100 * Currency.NTD_RATE
        self.assertEqual(self.bob.getBalance(), Currency(newB))

    def test_withdraw_insufficient(self):
        with self.assertRaises(Exception) as e:
            self.bob_bAccount.withdraw(Currency(12000))
        self.assertTrue(
            'Insufficient funds in the account' in str(e.exception))
        self.assertEqual(self.bob_bAccount.getBalance(), Currency(10000))  # é¤˜æ¬¾ä¸è®Š
```

## Unit05 å…¬å¸èˆ‡å¥èº«æˆ¿

* å…¬å¸æœ‰åç¨±èˆ‡è³‡ç”¢
* å…¬å¸æœ‰ç‡Ÿæ”¶ï¼Œæœƒå› æ­¤å¢åŠ è³‡ç”¢
* ç•¶å“¡å·¥åŠ å…¥å…¬å¸ï¼Œå…¬å¸ä»˜è–ªæ°´çµ¦å“¡å·¥æ™‚ï¼Œå“¡å·¥çš„éŠ€è¡Œå¸³æˆ¶æœƒå¢åŠ é¤˜é¡ï¼Œå…¬å¸è³‡ç”¢æœƒæ¸›å°‘
* å¥èº«æˆ¿ä¹Ÿæ˜¯ä¸€é–“å…¬å¸ï¼Œå¿…é ˆè¨­å®šæœƒå“¡è²»
* ç•¶æœƒå“¡åŠ å…¥å¥èº«æˆ¿å¾Œï¼Œè©²æœƒå“¡çš„å¸³æˆ¶é¤˜é¡æœƒæ¸›å°‘ï¼Œå¥èº«æˆ¿è³‡ç”¢å¢åŠ 

#### Design

```plantuml
class Company {
    - _title
    + asset: Currency
    + paySalary(Person, Currency)
    + hire(Person)
    + earnMoney(Currency)    
}
class Person {
    + registerGym(Gym)
}
abstract class HGroup
class Gym extends HGroup
class Gym extends Company

class Gym {
    - memberFee: Currency
    + isMember()
    + add(Person)
}

Person -> Gym: register
Person ..> Exception: No enough funds
```

#### Test


```python
class TestCompanyGym(unittest.TestCase):

    def setUp(self):
        # successTech
        self.successTech = Company('Success Tech.', Currency(100000))

        # bob
        self.bob = Person('Bob', 1.72, 100, 40)
        self.bob_bAccount = BankAccount(self.bob.name, balance = Currency(10000))
        self.bob.setBankAccount(self.bob_bAccount)

        # gym
        self.strongLife = Gym('Strong Life', Currency(100000), Currency(1000))
                
    def test_company_earnMoney(self):
        self.successTech.earnMoney(Currency(100000))
        self.assertEqual(self.successTech.getAsset(), Currency(200000))

    def test_paySalary(self):
        self.bob.workFor(self.successTech)
        self.successTech.paySalary(self.bob, Currency(50000, symbol='NTD'))

        self.assertEqual(self.successTech.getAsset(), Currency(50000))
        self.assertEqual(self.bob.getBalance(), Currency(60000))

    # åŠ å…¥å¥èº«æˆ¿: å¥èº«æˆ¿è³‡ç”¢å¢åŠ ï¼Œæœƒå“¡å¸³æˆ¶é¤˜é¡æ¸›å°‘
    def test_register_gym(self):
        self.bob.registerGym(self.strongLife)
        self.assertEqual(self.bob.getBalance(), Currency(10000-1000))
        self.assertTrue(self.strongLife.getAsset() == Currency(100000+1000))

    def test_is_gym_member(self):
        ''' he/she should be a member '''    
        self.bob.registerGym(self.strongLife)
        self.assertTrue(self.strongLife.isMember(self.bob))
```

## Unit06 è£œåŠ©å¥èº«è²»ç”¨

* å…¬å¸è£œåŠ©å“¡å·¥å¥èº«
* åªæœ‰å…¬å¸è·å“¡æ‰èƒ½æ¥å—è£œåŠ©
* è£œåŠ©å¾Œå“¡å·¥çš„å¸³æˆ¶é¤˜é¡æœƒå¢åŠ ï¼Œå…¬å¸è³‡æœ¬æ¸›å°‘

#### Design

```plantuml
abstract class HGroup {
    + addMember(People)
    + avgBMI(): float
    + queryByInbody(Inbody)
}
class Gym {
    - memberFee: Currency
}
class Person {
    + register(Gym)
}
class Company {
    + subsidize(Person, amount):
}

class BankAcount {
    + deposit(Currency)
    + withdraw(Currency)
}
HGroup <|-- Gym
Company -> Person: subsidize
Person -> Gym: join
Person -> BankAcount: own
Person ..> Exception: raise
```

#### Test

```python
class TestCompanySupport(unittest.TestCase):
    # è£œåŠ©ï¼šåªæœ‰å“¡å·¥æ‰èƒ½è£œåŠ©; è£œåŠ©å¾Œå…¬å¸è³‡ç”¢æ¸›å°‘ï¼Œå“¡å·¥å¸³æˆ¶å¢åŠ 

    def setUp(self) -> None:
        # successTech
        self.successTech = Company('Success Tech.', Currency(100000))

        # bob
        self.bob = Person('Bob', 1.72, 100, 40)
        self.bob_bAccount = BankAccount(self.bob.name, balance = Currency(10000))
        self.bob.setBankAccount(self.bob_bAccount)

        # gym
        self.strongLife = Gym('Strong Life', Currency(100000), Currency(1000))

    def test_subsidize_balance_asset(self):
        self.bob.workFor(self.successTech)
        self.successTech.subsidize(self.bob, Currency(500))
        # å—è£œåŠ©çš„éŒ¢æœƒè®Šå¤š
        self.assertEqual(self.bob.getBalance(), Currency(10000+500))        
        # å…¬å¸è³‡ç”¢éŒ¢æœƒè®Šå°‘
        self.assertEqual(self.successTech.getAsset(), Currency(100000-500))

    def test_subsidize_employee_only(self):
        # annie ä¸æ˜¯å“¡å·¥
        annie = Person('Annie', 1.62, 55)
        with self.assertRaises(Exception) as e:
            self.successTech.subsidize(annie, Currency(500))

```

## Unit07 Charlie å¥èº«æ•™ç·´

* å¥èº«æ•™ç·´ç›¸è¼ƒæ–¼ä¸€èˆ¬çš„äººï¼Œå…¶å¥åº·æ¨™æº–è¼ƒåš´æ ¼: å°æ–¼ BMI çš„æ¨™æº–è¶Šé«˜ (19-22)ï¼Œä¹ŸåŒ…å«é«”è„‚è‚ªçš„æª¢æŸ¥ (<=0.15)
* æ¯å€‹å¥èº«æ•™ç·´éƒ½ä¸€å€‹ä¸»ä¿®

#### Design

```plantuml
abstract class Person {
    ---
    # setInbody()
}

class Student extends Person {
    major: String
    
}

class Coach extends Person {
    expertise: string
    ---
    # setInbody() {override}
}

enum Inbody {

}

Coach ..> Inbody
Person ..> Inbody

```

#### Test

```python
    def test_coach(self):
        nick = Person('Nick', 1.72, 70)
        self.assertEqual(nick.getHealthStatus(), Health.FIT)     # BMI: 23.66

        charlie = Person('Charlie', 1.72, 70, bodyFat=0.2)       # BMI: 23.66
        charlie = Coach(charlie, 'èˆ‰é‡')
        self.assertEqual(charlie.getHealthStatus(), Health.OVER_WEIGHTED)

        # BMI: 20.28 ok but high body fat
        charlie.update(weight=60, bodyFat=0.25)
        self.assertEqual(charlie.getHealthStatus(), Health.OVER_BODY_FAT)

        charlie.update(weight=60, bodyFat=0.14)
        self.assertEqual(charlie.getHealthStatus(), Health.FIT)
```

## Unit08 å¥èº«æ¸›é‡

* ä¸åŒçš„é‹å‹•é …ç›®çš„ MET ä¸åŒï¼Œæ‰€è¬‚çš„ MET æ˜¯æŒ‡äººé¡åœ¨æ´»å‹•æ™‚ç›¸å°æ–¼éœæ­¢ä¸å‹•çš„æ¶ˆè€—é‡ï¼ŒMET è¶Šé«˜è¡¨ç¤ºæœŸæ¶ˆè€—çš„ç†±é‡ç´„é«˜ï¼Œå…¶æ¸›é‡æ•ˆæœè¶Šé«˜ã€‚
*  æ¶ˆè€—çš„ç†±é‡èˆ‡é«”é‡ã€é‹å‹•é …ç›®åŠæ™‚ç¨‹æœ‰é—œ (=è©²é‹å‹• MET * é«”é‡ * å°æ™‚æ•¸)
*  æ¯æ¶ˆè€— 7700 å¤§å¡ï¼Œç´„å¯æ¸›é‡ 1kg

#### Design

```plantuml
class Person {
    weight: float
    ---
    workout()
    updateInbody(weight)
}
enum Workout {
    YOGA = ('ç‘œä¼½', 3)  
    SWIM = ('æ¸¸æ³³', 10)
    FLYWHEEL = ('é£›è¼ª', 9)
    WEIGHT_TRAIN = ('é‡è¨“', 4)
    AEROBIC_EX = ('æœ‰æ°§é‹å‹•', 6)
    ---
    caloriesBurn(weight, duration): float
    weightLoss(weight, duration, times): float
}

Person .> Workout
```

#### Test


```python
def test_workout(self):
        # swim é‹å‹•æ¶ˆè€—ç†±é‡, ä¸¦æ¸›é‡
        swim = Workout.SWIM
        cal = swim.caloriesBurn(weight=100, duration=60)
        print (f'{swim.value[0]}ä¸€å°æ™‚ç´„è€—{cal}å¤§å¡')
        self.assertEqual(cal, swim.value[1]*100*60/60)

        loss = swim.weightLoss(100, 60, 30)
        print (f'æ¯å¤©{swim.value[0]}ä¸€å°æ™‚ï¼Œä¸€å€‹æœˆå¯ä»¥æ¸›é‡{loss}kg')
        self.assertEqual(3.9, loss)

        # bob åˆ°å¥èº«æˆ¿æ¸¸æ³³
        bob = Person(name='Bob', height=1.72, weight=100, age=40)
        bob_bAccount = BankAccount(bob.name, balance=Currency(0))
        bob.setBankAccount(bob_bAccount)
        bob.registerGym(Gym('StrongLife', Currency(0)))
        bob.workOut(swim, 60, '2023/10/10', 30)
        self.assertEqual(bob.weight, 100-loss)
```

## Unit09 å¥èº«æ­·ç¨‹

#### Design

```plantuml
Person o-->"*" WorkoutRec
Person ..> WorkoutRec
WorkoutRec -> Workout
WorkoutRec -> Gym

enum Workout

class WorkoutRec {
    person
    workout
    gym
    duration
    date
    times
    ---
    __str__()
}

class Person {
    - workoutLog: list(WorkoutRec) 
    ---
    + workout()
    + showWorkoutLog()
}
```

#### Test

```python
    # å¥èº«ï¼šè¨˜éŒ„å¥èº«
    def test_workout_rec(self):
        # bob åˆ°å¥èº«æˆ¿æ¸¸æ³³
        bob = Person(name='Bob', height=1.72, weight=100, age=40)
        bob_bAccount = BankAccount(bob.name, balance=Currency(0))
        bob.setBankAccount(bob_bAccount)
        bob.registerGym(Gym('StrongLife', Currency(0)))
        bob.workOut(Workout.FLYWHEEL, 60, '2023/10/03', 4)
        bob.workOut(Workout.AEROBIC_EX, 60, '2023/10/10', 1)
        bob.workOut(Workout.SWIM, 60, '2023/10/11', 3)
        bob.workOut(Workout.WEIGHT_TRAIN, 60, '2023/10/14', 10)
        bob.workOut(Workout.YOGA, 60, '2023/10/20', 10)
        bob.showWorkoutLog()
```

## Unit10 Alice çš„æ¸›é‡è¨ˆç•«

* ç•¶æˆ‘å€‘æ”å–çš„ç†±é‡(Calorie intake)æ¯”æ¶ˆè€—çš„ç†±é‡(TDEE)ä¾†å¾—ä½ï¼Œå…¶å·®å°±æ˜¯ç†±é‡èµ¤å­—, æ¯7700 å¤§å¡ç´„å¯æ¸›é‡1kgã€‚
* æ¯æ—¥æ¶ˆè€—ç†±é‡èˆ‡ä»£è¬ç‡ (BMR) åŠé‹å‹•èª˜ç™¼ç†±èƒ½ (TEA) åŠé£Ÿç‰©èª˜ç™¼ç†±èƒ½ (TEF) æœ‰é—œ
  * BMR å¯ç”±é«”é‡ã€é«”è„‚è‚ªä¼°ç®—å‡ºä¾†
  * TEA å¯ä»¥ç”± BMR, æ´»å‹•ç¨‹åº¦ä¼°ç®—å‡ºä¾†
  * TEF å¯ç”± BMR, TEA ä¼°ç®—å‡ºä¾†
* ä¼°ç®—å‡º TDEE å¾Œï¼Œæˆ‘å€‘å¯ä»¥æ“¬å®šé£²é£Ÿè¨ˆç•«ï¼Œæ¯å¤©åƒæ¯” TDEE å°‘ç´„ 500å¤§å¡çš„ç†±é‡ï¼Œæ—¥å­ä¹…äº†å°±æœƒæ¸›é‡

```plantuml
enum Inbody {
    OVER_WEIGHTED = 'éé‡'
    TOO_LIGHT = 'éè¼•'
    FIT = 'é«”æ…‹åˆå®œ'
    OVER_BODY_FAT = 'é«”è„‚è‚ªéé«˜'
    ---
    bmi(height, weight): float {static}
    estimatedTDEE(weight, bodyFat): float {static}
    estimatedWeightLoss(BMR, activityLevel): float {static}
}

enum ActivityLevel {
    SEDENTARY = 1           
    LIGHTLY_ACTIVE = 2      
    MODERATELY_ACTIVE = 3   
    VERY_ACTIVE = 4        
    SUPER_ACTIVE = 5       
}
        
class Person {
    ---
    updateInbody()
}        
object actPlan {
    actLevel # æ´»å‹•åº¦
    dificit  # ç†±é‡èµ¤å­—
    dailyCalorie # æ”å–ç†±é‡
    days     # æŒçºŒå¤©æ•¸
}
Person --> actPlan
actPlan ..> ActivityLevel        
Inbody ..> ActivityLevel

```

```python
class TestWeightLossPlan(unittest.TestCase):

    def test_BMR(self):
        ' æ¸¬è©¦ BMR æ˜¯å¦æ­£ç¢º '
        weight, bodyFat = 90, 0.2
        bmr = Inbody.estimatedBMR(weight, bodyFat)

        self.assertAlmostEqual(bmr, 1925.2, places=1)

    def test_weight_loss_SEDENTARY(self):
        ' æ¸¬è©¦ é ä¼°æ¸›è¼•çš„é‡é‡æ˜¯å¦æ­£ç¢º '
        weight, bodyFat = 90, 0.2
        act = ActivityLevel.SEDENTARY
        dailyCalorie, days = 3000, 30

        bmr = Inbody.estimatedBMR(weight, bodyFat)
        tdee = Inbody.estimatedTDEE(bmr, act)
        weightLoss = Inbody.estimatedWeightLoss(tdee, dailyCalorie, days)
        self.assertEqual(-1.8, weightLoss)

    def test_weight_loss_MODERATELY_ACTIVE(self):
        weight, bodyFat = 90, 0.2
        act = ActivityLevel.MODERATELY_ACTIVE
        dailyCalorie, days = 3000, 30

        bmr = Inbody.estimatedBMR(weight, bodyFat)
        tdee = Inbody.estimatedTDEE(bmr, act)
        weightLoss = Inbody.estimatedWeightLoss(tdee, dailyCalorie, days)
        self.assertEqual(1.2, weightLoss)

    def test_weight_loss_SUPER_ACTIVE(self):
        weight, bodyFat = 90, 0.2
        act = ActivityLevel.SUPER_ACTIVE
        dailyCalorie, days = 3000, 30

        bmr = Inbody.estimatedBMR(weight, bodyFat)
        tdee = Inbody.estimatedTDEE(bmr, act)
        weightLoss = Inbody.estimatedWeightLoss(tdee, dailyCalorie, days)
        self.assertEqual(3.9, weightLoss)

    # @unittest.skip('done')
    # æ¸¬è©¦ BMR, TDEE, èˆ‡æ¸›è¼•ä¹‹é‡é‡
    def test_show_bob_plan(self):
        # ä¸€é–‹å§‹çš„ bob, æ²’æœ‰é‹å‹•, åƒçš„ä¹Ÿå¤š
        bob = Person(name='Bob', height=1.72, weight=120, age=40, bodyFat=0.3)

        # å¯ä»¥æ¡ç”¨(1) å›ºå®šç†±é‡èµ¤å­—çš„æ–¹å¼ä¾†æ¸›é‡ï¼Œæˆ–æ˜¯(2) å¢åŠ é‹å‹•å¼·åº¦ã€å›ºå®šæ”å–ç†±é‡çš„æ–¹å¼
        # activity level, dificit, daily_cal, days
        actPlan = [(ActivityLevel.SEDENTARY, 500, '-', 30),           # ç†±é‡èµ¤å­— 500
                   (ActivityLevel.LIGHTLY_ACTIVE, 500, '-', 30),      # ç†±é‡èµ¤å­— 500
                   (ActivityLevel.LIGHTLY_ACTIVE, '-', 2000, 30),     # æ”å–ç†±é‡ 2000
                   (ActivityLevel.MODERATELY_ACTIVE, '-', 3000, 30),  # æ”å–ç†±é‡ 3000
                   (ActivityLevel.VERY_ACTIVE, '-', 3000, 30),        # æ”å–ç†±é‡ 3000
                   (ActivityLevel.SUPER_ACTIVE, '-', 3000, 30),       # æ”å–ç†±é‡ 3000
                   ]

        print("\n=================")
        print(f"{bob.name}çš„æ¸›é‡æ­·ç¨‹")
        print("=================")
        for act in actPlan:
            actLevel = act[0]
            dificit = act[1]
            dailyCalorie = act[2]
            days = act[3]

            bob_bmr = Inbody.estimatedBMR(bob.weight, bob.bodyFat)
            bob_tdee = Inbody.estimatedTDEE(bob_bmr, actLevel)
            if dificit != '-':
                dailyCalorie = bob_tdee - dificit
            weightLoss = Inbody.estimatedWeightLoss(
                bob_tdee, dailyCalorie, days)
            print(
                f'bobé‡{bob.weight:.1f}, {actLevel}, é ä¼°æ¯æ—¥æ¶ˆè€—ç†±é‡{bob_tdee}, å¦‚æœæ¯æ—¥æ”å–ç†±é‡{dailyCalorie}, {days}å¤©å¾Œï¼Œé è¨ˆé«”é‡æ¸›å°‘{weightLoss}kg')

            bob.updateInbody(weight=bob.weight - weightLoss)
            # print (f'æ–°é«”é‡ï¼š{bob.weight:.1f}')

```


 
## Git code

[git code](https://github.com/nlhsueh/iGer-bmi-story/tree/u01_people)
  
